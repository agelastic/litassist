# Reasoning trace templates for legal analysis
# Used across multiple commands to ensure transparency and accountability

reasoning:
  # Main reasoning trace instruction added to prompts
  # USED BY: utils.py - appended to all command prompts that require reasoning traces
  # LOCATION: utils.py:553
  instruction: |
    
    IMPORTANT: At the VERY END of ALL your content (after the MOST LIKELY TO SUCCEED section if present), provide a clear reasoning trace using this exact format (DO NOT repeat any sections):
    
    ## {reasoning_header}
    
    Issue: [State the primary legal question or issue being analyzed - write this only once]
    
    Applicable Law: [Identify the relevant legal principles, statutes, cases, or rules - write this only once]
    
    Application to Facts: [Explain how the law applies to the specific facts presented - write this only once]
    
    Conclusion: [State your legal conclusion clearly - write this only once]
    
    Confidence: [Your confidence level as a percentage, 0-100%]
    
    Sources: [List key legal authorities cited, separated by semicolons]
    
    Each section should appear exactly once. Do not repeat sections or content. This reasoning trace helps ensure transparency and accountability in legal analysis for the {command} command.

  # Markdown format for reasoning trace output
  # NOT USED - Template not referenced in codebase
  markdown_format: |
    ## Overall Strategic Reasoning
    
    **Issue:** {issue}
    
    **Applicable Law:** {applicable_law}
    
    **Application to Facts:** {application}
    
    **Conclusion:** {conclusion}
    
    **Confidence:** {confidence}%{sources_text}
    
    *Generated by {command} on {timestamp}*

  # Structured text format for reasoning trace output
  # NOT USED - Template not referenced in codebase
  structured_format: |
    ## Overall Strategic Reasoning
    Issue: {issue}
    Applicable Law: {applicable_law}
    Application to Facts: {application}
    Conclusion: {conclusion}
    Confidence: {confidence}%{sources_text}
    Generated: {timestamp} ({command})

  # Consolidated reasoning trace for multiple strategy options
  # USED BY: strategy.py - creates consolidated reasoning output for multiple strategic options
  consolidated:
    # USED BY: strategy.py - header for consolidated reasoning
    # LOCATION: strategy.py:118
    header: |
      # CONSOLIDATED REASONING
      # Strategic Options for: {outcome}
      # Generated: {timestamp}
    
    # USED BY: strategy.py - option header in consolidated reasoning
    # LOCATION: strategy.py:132
    option_header: |
      ## STRATEGIC OPTION {option_num} - REASONING
    
    # USED BY: strategy.py - option trace in consolidated reasoning
    # LOCATION: strategy.py:138
    option_trace: |
      **Issue:** {issue}
      
      **Applicable Law:** {applicable_law}
      
      **Application to Facts:** {application}
      
      **Conclusion:** {conclusion}
      
      **Confidence:** {confidence}%
      
      **Sources:** {sources}
    
    # USED BY: strategy.py - no trace message in consolidated reasoning
    # LOCATION: strategy.py:148
    no_trace: |
      No reasoning trace available for this option.